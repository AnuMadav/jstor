<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to <code>jstor</code> • jstor</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">jstor</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/automating_file_import.html">Automating File Import</a>
    </li>
    <li>
      <a href="../articles/Introduction.html">Introduction to `jstor`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/tklebel/jstor">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Introduction to <code>jstor</code>
</h1>
                        <h4 class="author">Thomas Klebel</h4>
            
            <h4 class="date">2018-02-08</h4>
          </div>

    
    
<div class="contents">
<p>The tool <a href="http://www.jstor.org/dfr/">Data for Research (DfR)</a> by JSTOR is a valuable source for citation analysis and text mining. <code>jstor</code> provides functions and suggests workflows for importing datasets from DfR.</p>
<p>When using DfR, requests for datasets can be made for small excerpts (max. 25,000 records) or large ones, which require an agreement between the researcher and JSTOR. <code>jstor</code> was developed to deal with very large datasets which require an agreement, but can be used with smaller ones as well.</p>
<p>The most important set of functions is a group of <code>find_*</code> functions:</p>
<ul>
<li><code>find_article</code></li>
<li><code>find_authors</code></li>
<li><code>find_references</code></li>
<li><code>find_footnotes</code></li>
<li><code>find_fulltext</code></li>
<li><code>find_book</code></li>
<li><code>find_chapters</code></li>
</ul>
<p>I will demonstrate their usage using the <a href="http://www.jstor.org/dfr/about/sample-datasets">sample dataset</a> which is provided by JSTOR on their website.</p>
<div id="general-concept" class="section level1">
<h1 class="hasAnchor">
<a href="#general-concept" class="anchor"></a>General Concept</h1>
<p>All functions which are concerned with meta data (therefore excluding <code>find_fulltext</code>) operate along the same lines:</p>
<ol style="list-style-type: decimal">
<li>The file is read with <code><a href="http://www.rdocumentation.org/packages/xml2/topics/read_xml">xml2::read_xml()</a></code>.</li>
<li>Content of the file is extracted via XPATH or CSS-expressions.</li>
<li>The resulting data is returned in a <code>data.frame</code>.</li>
</ol>
<p>The following sections showcase the different functions.</p>
</div>
<div id="application" class="section level1">
<h1 class="hasAnchor">
<a href="#application" class="anchor"></a>Application</h1>
<p>Apart from <code>jstor</code> we only need to load <code>dplyr</code> for matching records.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(jstor)
<span class="kw">library</span>(dplyr)</code></pre></div>
<div id="find_article" class="section level2">
<h2 class="hasAnchor">
<a href="#find_article" class="anchor"></a><code>find_article</code>
</h2>
<p>The basic usage of the <code>find_*</code> functions is very simple. They take only one argument, the path to the file to import:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">meta_data &lt;-<span class="st"> </span><span class="kw"><a href="../reference/find_article.html">find_article</a></span>(<span class="dt">file_path =</span> <span class="kw"><a href="../reference/jstor_example.html">jstor_example</a></span>(<span class="st">"sample_with_references.xml"</span>))</code></pre></div>
<p>The resulting object is a <code>tibble</code> with one row and 17 columns. The columns correspond to most of the elements documented here: <a href="http://www.jstor.org/dfr/about/technical-specifications" class="uri">http://www.jstor.org/dfr/about/technical-specifications</a>.</p>
<p>The columns are:</p>
<ul>
<li>basename_id <em>(chr)</em>: The file name of the original .xml-file. Can be used for joining with other parts (authors, references, footnotes, full-texts).</li>
<li>journal_doi <em>(chr)</em>: A registered identifier for the journal.</li>
<li>journal_jcode <em>(chr)</em>: A identifier for the journal like “amerjsoci” for the “American Journal of Sociology”.</li>
<li>journal_pub_id <em>(chr)</em>: Similar to journal_jcode. Most of the time either one is present.</li>
<li>article_doi <em>(chr)</em>: A registered unique identifier for the article.</li>
<li>article_jcode <em>(chr)</em>: A unique identifier for the article (not a DOI).</li>
<li>article_pub_id <em>(chr)</em>: Infrequent, either part of the DOI or the article_jcode.</li>
<li>article_type <em>(chr)</em>: The type of article (research-article, book-review, etc.).</li>
<li>article_title <em>(chr)</em>: The title of the article.</li>
<li>volume <em>(chr)</em>: The volume the article was published in.</li>
<li>issue <em>(chr)</em>: The issue the article was published in.</li>
<li>language <em>(chr)</em>: The language of the article.</li>
<li>pub_day <em>(chr)</em>: Publication day, if specified.</li>
<li>pub_month <em>(chr)</em>: Publication month, if specified.</li>
<li>pub_year <em>(int)</em>: Year of publication.</li>
<li>first_page <em>(int)</em>: Page number for the first page of the article.</li>
<li>last_page <em>(int)</em>: Page number for the last page of the article.</li>
</ul>
<p>Since the output from all functions are tibbles, the result is nicely formatted:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">meta_data <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>()</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">basename_id</th>
<th align="left">journal_doi</th>
<th align="left">journal_jcode</th>
<th align="left">journal_pub_id</th>
<th align="left">article_doi</th>
<th align="left">article_pub_id</th>
<th align="left">article_jcode</th>
<th align="left">article_type</th>
<th align="left">article_title</th>
<th align="left">volume</th>
<th align="left">issue</th>
<th align="left">language</th>
<th align="left">pub_day</th>
<th align="left">pub_month</th>
<th align="right">pub_year</th>
<th align="right">first_page</th>
<th align="right">last_page</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">sample_with_references</td>
<td align="left">NA</td>
<td align="left">tranamermicrsoci</td>
<td align="left">NA</td>
<td align="left">10.2307/3221896</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">research-article</td>
<td align="left">On the Protozoa Parasitic in Frogs</td>
<td align="left">41</td>
<td align="left">2</td>
<td align="left">eng</td>
<td align="left">1</td>
<td align="left">4</td>
<td align="right">1922</td>
<td align="right">59</td>
<td align="right">76</td>
</tr></tbody>
</table>
</div>
<div id="find_authors" class="section level2">
<h2 class="hasAnchor">
<a href="#find_authors" class="anchor"></a><code>find_authors</code>
</h2>
<p>Extracting the authors works in similar fashion:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">authors &lt;-<span class="st"> </span><span class="kw"><a href="../reference/find_authors.html">find_authors</a></span>(<span class="kw"><a href="../reference/jstor_example.html">jstor_example</a></span>(<span class="st">"sample_with_references.xml"</span>))
knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(authors)</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">basename_id</th>
<th align="left">prefix</th>
<th align="left">given_name</th>
<th align="left">surname</th>
<th align="left">string_name</th>
<th align="left">suffix</th>
<th align="right">author_number</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">sample_with_references</td>
<td align="left">NA</td>
<td align="left">R.</td>
<td align="left">Kudo</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">1</td>
</tr></tbody>
</table>
<p>Here we have the following columns:</p>
<ul>
<li>
<em>basename_id</em>: The same as above, used for matching articles.</li>
<li>
<em>prefix</em>: A prefix to the name.</li>
<li>
<em>given_name</em>: The given name of the author (i.e. <code>Albert</code> or <code>A.</code>).</li>
<li>
<em>surname</em>: The surname of the author (i.e. <code>Einstein</code>).</li>
<li>
<em>string_name</em>: Sometimes instead of given_name and surname, only a full string is supplied, i.e.: <code>Albert Einstein</code>, or <code>Einstein, Albert</code>.</li>
<li>
<em>suffix</em>: A suffix to the name, as in <code>Albert Einstein, II.</code>.</li>
<li>
<em>author_number</em>: An integer representing the order of how the authors appeared in the data.</li>
</ul>
<p>The number of rows matches the number of authors – each author get its’ own row.</p>
</div>
<div id="find_references" class="section level2">
<h2 class="hasAnchor">
<a href="#find_references" class="anchor"></a><code>find_references</code>
</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">references &lt;-<span class="st"> </span><span class="kw"><a href="../reference/find_references.html">find_references</a></span>(<span class="kw"><a href="../reference/jstor_example.html">jstor_example</a></span>(<span class="st">"sample_with_references.xml"</span>))</code></pre></div>
<p>We have two columns:</p>
<ul>
<li>
<em>basename_id</em>: Identifier, can be used for matching.</li>
<li>
<em>references</em>: The content of each entry for reference.</li>
</ul>
<p>Here I display the first 5 entries for each column:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">references <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(head, <span class="dv">5</span>)
<span class="co">#&gt; $basename_id</span>
<span class="co">#&gt; [1] "sample_with_references" "sample_with_references"</span>
<span class="co">#&gt; [3] "sample_with_references" "sample_with_references"</span>
<span class="co">#&gt; [5] "sample_with_references"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $references</span>
<span class="co">#&gt; [1] "Bibliography: Entamoeba ranarumn"                                                                                                               </span>
<span class="co">#&gt; [2] "DOBELL, C.C.\n1909 Researches on the intestinal Protozoa of frogs and toads. Quart. Jour. Micros.\nSc., 53:201-276, 4 pl. and 1 textfig."       </span>
<span class="co">#&gt; [3] "1918 Are Entamoeba histolytica and Entamoeba ranarum the same species? An experi-\nmental study. Parasit., 10:294-310."                         </span>
<span class="co">#&gt; [4] "References: Leptotheca ohilmacheri"                                                                                                             </span>
<span class="co">#&gt; [5] "KUDO, R.\n1920 Studies on Myxosporidia. A Synopsis of Genera and Species of Myxosporidia.\nill. Biol. Monogr., 5:243-503, 25 pl. and 2 textfig."</span></code></pre></div>
<p>This example shows several things: <code>basename_id</code> is identical among rows, since it identifies the article and all references came from one article.</p>
<p>The content of references (<code>references</code>) is in quite a raw state, quite often the result of digitising scans via OCR. Very often, the first entry in this column is something like “Bibliography” or “References”, which is simply the heading within the article. In the above example there are several headings, because the sample file doesn’t follow a typical convention (it was published in 1922).</p>
</div>
<div id="find_footnotes" class="section level2">
<h2 class="hasAnchor">
<a href="#find_footnotes" class="anchor"></a><code>find_footnotes</code>
</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/find_footnotes.html">find_footnotes</a></span>(<span class="kw"><a href="../reference/jstor_example.html">jstor_example</a></span>(<span class="st">"sample_with_references.xml"</span>))
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;   basename_id            footnotes</span>
<span class="co">#&gt;   &lt;chr&gt;                  &lt;chr&gt;    </span>
<span class="co">#&gt; 1 sample_with_references &lt;NA&gt;</span></code></pre></div>
<p>Very commonly, articles either have footnotes or references. The sample file used here does not have footnotes, therefore a simple <code>tibble</code> with missing footnotes is returned.</p>
<p>I will use another file to demonstrate footnotes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">footnotes &lt;-<span class="st"> </span><span class="kw"><a href="../reference/find_footnotes.html">find_footnotes</a></span>(<span class="kw"><a href="../reference/jstor_example.html">jstor_example</a></span>(<span class="st">"sample_with_footnotes.xml"</span>))
footnotes
<span class="co">#&gt; # A tibble: 7 x 2</span>
<span class="co">#&gt;   basename_id           footnotes                                         </span>
<span class="co">#&gt;   &lt;chr&gt;                 &lt;chr&gt;                                             </span>
<span class="co">#&gt; 1 sample_with_footnotes [Footnotes]                                       </span>
<span class="co">#&gt; 2 sample_with_footnotes "9\nQuarterly, vol. XIII, no. 1,\nentries for Apr…</span>
<span class="co">#&gt; 3 sample_with_footnotes "10\nQuarterly, vol. XIII,\nno. 1, p. 8."         </span>
<span class="co">#&gt; 4 sample_with_footnotes "14\nQuarterly, vol. VIII, no. 1.\nOlympia Columb…</span>
<span class="co">#&gt; 5 sample_with_footnotes "26\nQuarterly, vol. XII,\nno. 2, p. 141."        </span>
<span class="co">#&gt; 6 sample_with_footnotes "32\nDr. David S. Maynard, later (March 31, 1852)"</span>
<span class="co">#&gt; 7 sample_with_footnotes "34\nThomas Linklater, Shepherd, since October 6,…</span></code></pre></div>
</div>
<div id="find_fulltext" class="section level2">
<h2 class="hasAnchor">
<a href="#find_fulltext" class="anchor"></a><code>find_fulltext</code>
</h2>
<p>The function to extract full texts can’t be demonstrated with proper data, since the full texts are only supplied upon special request with DfR. The function guesses the encoding of the specified file via <code><a href="http://www.rdocumentation.org/packages/readr/topics/encoding">readr::guess_encoding()</a></code>, reads the whole file and returns a <code>tibble</code> with <code>basename_id</code>, <code>full_text</code> and <code>encoding</code>.</p>
<p>I created a file that looks similar to files supplied by DfR with sample text:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">full_text &lt;-<span class="st"> </span><span class="kw"><a href="../reference/read_full_text.html">read_full_text</a></span>(<span class="kw"><a href="../reference/jstor_example.html">jstor_example</a></span>(<span class="st">"sample_full_text.txt"</span>))
full_text
<span class="co">#&gt; # A tibble: 1 x 3</span>
<span class="co">#&gt;   basename_id      full_text                                      encoding</span>
<span class="co">#&gt;   &lt;chr&gt;            &lt;chr&gt;                                          &lt;chr&gt;   </span>
<span class="co">#&gt; 1 sample_full_text "&lt;plain_text&gt; &lt;page sequence=\"1\"&gt;Lorem ipsu… ASCII</span>

full_text[[<span class="st">"full_text"</span>]]
<span class="co">#&gt; [1] "&lt;plain_text&gt; &lt;page sequence=\"1\"&gt;Lorem ipsum dolor sit amet, \nconsectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore \nmagna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris\nnisi ut aliquid ex ea commodi consequat. Quis aute iure reprehenderit in \nvoluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint\nobcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim\nid est laborum.\n&lt;/page&gt;  &lt;/plain_text&gt;\n"</span></code></pre></div>
</div>
<div id="combining-results" class="section level2">
<h2 class="hasAnchor">
<a href="#combining-results" class="anchor"></a>Combining results</h2>
<p>Different parts of meta-data can be combined by using <code><a href="http://dplyr.tidyverse.org/reference/join.html">dplyr::left_join()</a></code>.</p>
<div id="matching-with-authors" class="section level3">
<h3 class="hasAnchor">
<a href="#matching-with-authors" class="anchor"></a>Matching with authors</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">meta_data <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/join.html">left_join</a></span>(authors) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(basename_id, article_title, pub_year, given_name, surname) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>()
<span class="co">#&gt; Joining, by = "basename_id"</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">basename_id</th>
<th align="left">article_title</th>
<th align="right">pub_year</th>
<th align="left">given_name</th>
<th align="left">surname</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">sample_with_references</td>
<td align="left">On the Protozoa Parasitic in Frogs</td>
<td align="right">1922</td>
<td align="left">R.</td>
<td align="left">Kudo</td>
</tr></tbody>
</table>
</div>
<div id="matching-with-references" class="section level3">
<h3 class="hasAnchor">
<a href="#matching-with-references" class="anchor"></a>Matching with references</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">meta_data <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/join.html">left_join</a></span>(references) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(basename_id, pub_year, references) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>) 
<span class="co">#&gt; Joining, by = "basename_id"</span>
<span class="co">#&gt; # A tibble: 10 x 3</span>
<span class="co">#&gt;    basename_id            pub_year references                             </span>
<span class="co">#&gt;    &lt;chr&gt;                     &lt;int&gt; &lt;chr&gt;                                  </span>
<span class="co">#&gt;  1 sample_with_references     1922 Bibliography: Entamoeba ranarumn       </span>
<span class="co">#&gt;  2 sample_with_references     1922 "DOBELL, C.C.\n1909 Researches on the …</span>
<span class="co">#&gt;  3 sample_with_references     1922 "1918 Are Entamoeba histolytica and En…</span>
<span class="co">#&gt;  4 sample_with_references     1922 References: Leptotheca ohilmacheri     </span>
<span class="co">#&gt;  5 sample_with_references     1922 "KUDO, R.\n1920 Studies on Myxosporidi…</span>
<span class="co">#&gt;  6 sample_with_references     1922 "1921 On the nature of structures char…</span>
<span class="co">#&gt;  7 sample_with_references     1922 "1922 On the morphology and life histo…</span>
<span class="co">#&gt;  8 sample_with_references     1922 References: Haemogregarines            </span>
<span class="co">#&gt;  9 sample_with_references     1922 "DUTTON, J. E., J. L. TODD and E. N. T…</span>
<span class="co">#&gt; 10 sample_with_references     1922 "FRANNÇA, C.\n1917 Sur la classificati…</span></code></pre></div>
</div>
</div>
</div>
<div id="books" class="section level1">
<h1 class="hasAnchor">
<a href="#books" class="anchor"></a>Books</h1>
<p>Quite recently DfR added book chapters to their stack. To import metadata about the books and chapters, jstor supplies <code>find_book</code> and <code>find_chapters</code>.</p>
<p><code>find_book</code> is very similar to <code>find_article</code>. We obtain general information about the complete book:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/find_book.html">find_book</a></span>(<span class="kw"><a href="../reference/jstor_example.html">jstor_example</a></span>(<span class="st">"sample_book.xml"</span>)) <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>()</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">book_id</th>
<th align="left">basename_id</th>
<th align="left">discipline</th>
<th align="left">book_title</th>
<th align="left">book_subtitle</th>
<th align="right">pub_day</th>
<th align="right">pub_month</th>
<th align="right">pub_year</th>
<th align="left">isbn</th>
<th align="left">publisher_name</th>
<th align="left">publisher_location</th>
<th align="right">n_pages</th>
<th align="left">language</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">Political Science</td>
<td align="left">The 2006 Military Takeover in Fiji</td>
<td align="left">A Coup to End All Coups?</td>
<td align="right">30</td>
<td align="right">4</td>
<td align="right">2009</td>
<td align="left">9781921536502; 9781921536519</td>
<td align="left">ANU E Press</td>
<td align="left">Canberra</td>
<td align="right">NA</td>
<td align="left">eng</td>
</tr></tbody>
</table>
<p>A single book might contain many chapters. <code>find_chapters</code> extracts all of them. Due to this, the function is a bit slower than most of jstor’s other functions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">chapters &lt;-<span class="st"> </span><span class="kw"><a href="../reference/find_chapters.html">find_chapters</a></span>(<span class="kw"><a href="../reference/jstor_example.html">jstor_example</a></span>(<span class="st">"sample_book.xml"</span>))

<span class="kw">str</span>(chapters)
<span class="co">#&gt; Classes 'tbl_df', 'tbl' and 'data.frame':    36 obs. of  9 variables:</span>
<span class="co">#&gt;  $ book_id        : chr  "j.ctt24hdz7" "j.ctt24hdz7" "j.ctt24hdz7" "j.ctt24hdz7" ...</span>
<span class="co">#&gt;  $ basename_id    : chr  "sample_book" "sample_book" "sample_book" "sample_book" ...</span>
<span class="co">#&gt;  $ part_id        : chr  "j.ctt24hdz7.1" "j.ctt24hdz7.2" "j.ctt24hdz7.3" "j.ctt24hdz7.4" ...</span>
<span class="co">#&gt;  $ part_label     : chr  NA NA NA NA ...</span>
<span class="co">#&gt;  $ part_title     : chr  "Front Matter" "Table of Contents" "Acronyms and abbreviations" "Authors’ biographies" ...</span>
<span class="co">#&gt;  $ part_subtitle  : chr  NA NA NA NA ...</span>
<span class="co">#&gt;  $ authors        : chr  NA NA NA NA ...</span>
<span class="co">#&gt;  $ abstract       : chr  NA NA NA NA ...</span>
<span class="co">#&gt;  $ part_first_page: chr  "i" "v" "vii" "xi" ...</span></code></pre></div>
<p>Without the abstracts (they are rather long) the first 10 chapters look like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">chapters <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span>abstract) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>()</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">book_id</th>
<th align="left">basename_id</th>
<th align="left">part_id</th>
<th align="left">part_label</th>
<th align="left">part_title</th>
<th align="left">part_subtitle</th>
<th align="left">authors</th>
<th align="left">part_first_page</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">j.ctt24hdz7.1</td>
<td align="left">NA</td>
<td align="left">Front Matter</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">i</td>
</tr>
<tr class="even">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">j.ctt24hdz7.2</td>
<td align="left">NA</td>
<td align="left">Table of Contents</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">v</td>
</tr>
<tr class="odd">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">j.ctt24hdz7.3</td>
<td align="left">NA</td>
<td align="left">Acronyms and abbreviations</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">vii</td>
</tr>
<tr class="even">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">j.ctt24hdz7.4</td>
<td align="left">NA</td>
<td align="left">Authors’ biographies</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">xi</td>
</tr>
<tr class="odd">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">j.ctt24hdz7.5</td>
<td align="left">1.</td>
<td align="left">The enigmas of Fiji’s good governance coup</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">j.ctt24hdz7.6</td>
<td align="left">2.</td>
<td align="left">‘Anxiety, uncertainty and fear in our land’:</td>
<td align="left">Fiji’s road to military coup, 2006</td>
<td align="left">NA</td>
<td align="left">21</td>
</tr>
<tr class="odd">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">j.ctt24hdz7.7</td>
<td align="left">3.</td>
<td align="left">Fiji’s December 2006 coup:</td>
<td align="left">Who, what, where and why?</td>
<td align="left">NA</td>
<td align="left">43</td>
</tr>
<tr class="even">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">j.ctt24hdz7.8</td>
<td align="left">4.</td>
<td align="left">‘This process of political readjustment’:</td>
<td align="left">The aftermath of the 2006 Fiji Coup</td>
<td align="left">NA</td>
<td align="left">67</td>
</tr>
<tr class="odd">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">j.ctt24hdz7.9</td>
<td align="left">5.</td>
<td align="left">The changing role of the Great Council of Chiefs</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">97</td>
</tr>
<tr class="even">
<td align="left">j.ctt24hdz7</td>
<td align="left">sample_book</td>
<td align="left">j.ctt24hdz7.10</td>
<td align="left">6.</td>
<td align="left">The Fiji military and ethno-nationalism:</td>
<td align="left">Analyzing the paradox</td>
<td align="left">NA</td>
<td align="left">117</td>
</tr>
</tbody>
</table>
<p>Since extracting all authors for all chapters needs considerably more time, by default authors are not extracted. You can import them like so:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">author_chap &lt;-<span class="st"> </span><span class="kw"><a href="../reference/find_chapters.html">find_chapters</a></span>(<span class="kw"><a href="../reference/jstor_example.html">jstor_example</a></span>(<span class="st">"sample_book.xml"</span>), <span class="dt">authors =</span> <span class="ot">TRUE</span>) </code></pre></div>
<p>The authors are supplied in a list column:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(author_chap<span class="op">$</span>authors)
<span class="co">#&gt; [1] "list"</span></code></pre></div>
<p>You can expand this list with <code><a href="http://www.rdocumentation.org/packages/tidyr/topics/unnest">tidyr::unnest</a></code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">author_chap <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/tidyr/topics/unnest">unnest</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(part_id, given_name, surname) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">head</span>(<span class="dv">10</span>)
<span class="co">#&gt; # A tibble: 10 x 3</span>
<span class="co">#&gt;    part_id       given_name surname </span>
<span class="co">#&gt;    &lt;chr&gt;         &lt;chr&gt;      &lt;chr&gt;   </span>
<span class="co">#&gt;  1 j.ctt24hdz7.1 &lt;NA&gt;       &lt;NA&gt;    </span>
<span class="co">#&gt;  2 j.ctt24hdz7.2 &lt;NA&gt;       &lt;NA&gt;    </span>
<span class="co">#&gt;  3 j.ctt24hdz7.3 &lt;NA&gt;       &lt;NA&gt;    </span>
<span class="co">#&gt;  4 j.ctt24hdz7.4 &lt;NA&gt;       &lt;NA&gt;    </span>
<span class="co">#&gt;  5 j.ctt24hdz7.5 Jon        Fraenkel</span>
<span class="co">#&gt;  6 j.ctt24hdz7.5 Stewart    Firth   </span>
<span class="co">#&gt;  7 j.ctt24hdz7.6 Brij V.    Lal     </span>
<span class="co">#&gt;  8 j.ctt24hdz7.7 Jon        Fraenkel</span>
<span class="co">#&gt;  9 j.ctt24hdz7.8 Brij V.    Lal     </span>
<span class="co">#&gt; 10 j.ctt24hdz7.9 Robert     Norton</span></code></pre></div>
<p>You can learn more about the concept of list-columns in Hadley Wickham’s book <a href="http://r4ds.had.co.nz/many-models.html">R for Data Science</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#general-concept">General Concept</a></li>
      <li>
<a href="#application">Application</a><ul class="nav nav-pills nav-stacked">
<li><a href="#find_article"><code>find_article</code></a></li>
      <li><a href="#find_authors"><code>find_authors</code></a></li>
      <li><a href="#find_references"><code>find_references</code></a></li>
      <li><a href="#find_footnotes"><code>find_footnotes</code></a></li>
      <li><a href="#find_fulltext"><code>find_fulltext</code></a></li>
      <li><a href="#combining-results">Combining results</a></li>
      </ul>
</li>
      <li><a href="#books">Books</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Thomas Klebel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
